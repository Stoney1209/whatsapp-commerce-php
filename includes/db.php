<?php class Database { private $pdo; public function __construct() { require_once __DIR__ . '/../config/database.php'; global $pdo; $this->pdo = $pdo; } public function getConnection() { return $this->pdo; } public function query($sql, $params = []) { try { $stmt = $this->pdo->prepare($sql); $stmt->execute($params); return $stmt->fetchAll(PDO::FETCH_ASSOC); } catch (PDOException $e) { error_log($e->getMessage()); return false; } } public function queryOne($sql, $params = []) { try { $stmt = $this->pdo->prepare($sql); $stmt->execute($params); return $stmt->fetch(PDO::FETCH_ASSOC); } catch (PDOException $e) { error_log($e->getMessage()); return false; } } public function execute($sql, $params = []) { try { $stmt = $this->pdo->prepare($sql); return $stmt->execute($params); } catch (PDOException $e) { error_log($e->getMessage()); return false; } } public function lastInsertId() { return $this->pdo->lastInsertId(); } } ?>